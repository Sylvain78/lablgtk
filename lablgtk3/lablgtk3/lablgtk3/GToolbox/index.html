<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>GToolbox (lablgtk3.GToolbox)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../index.html">lablgtk3</a> &#x00BB; GToolbox</nav><header class="odoc-preamble"><h1>Module <code><span>GToolbox</span></code></h1><p>Useful functions for LablGTK.</p></header><nav class="odoc-toc"><ul><li><a href="#menus">Menus</a></li><li><a href="#parametrized-dialog-windows">Parametrized dialog windows</a></li></ul></nav><div class="odoc-content"><h3 id="menus"><a href="#menus" class="anchor"></a>Menus</h3><div class="odoc-spec"><div class="spec type anchored" id="type-menu_entry"><a href="#type-menu_entry" class="anchor"></a><code><span><span class="keyword">type</span> menu_entry</span><span> = </span><span>[ </span></code><ol><li id="type-menu_entry.I" class="def variant constructor anchored"><a href="#type-menu_entry.I" class="anchor"></a><code><span>| </span><span>`I <span class="keyword">of</span> string * <span>(<span>unit <span class="arrow">&#45;&gt;</span></span> unit)</span></span></code></li><li id="type-menu_entry.C" class="def variant constructor anchored"><a href="#type-menu_entry.C" class="anchor"></a><code><span>| </span><span>`C <span class="keyword">of</span> string * bool * <span>(<span>bool <span class="arrow">&#45;&gt;</span></span> unit)</span></span></code></li><li id="type-menu_entry.R" class="def variant constructor anchored"><a href="#type-menu_entry.R" class="anchor"></a><code><span>| </span><span>`R <span class="keyword">of</span> <span><span>(string * bool * <span>(<span>bool <span class="arrow">&#45;&gt;</span></span> unit)</span>)</span> list</span></span></code></li><li id="type-menu_entry.M" class="def variant constructor anchored"><a href="#type-menu_entry.M" class="anchor"></a><code><span>| </span><span>`M <span class="keyword">of</span> string * <span><a href="#type-menu_entry">menu_entry</a> list</span></span></code></li></ol><code><span> ]</span></code></div><div class="spec-doc"><p>Tree description of a menu</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-build_menu"><a href="#val-build_menu" class="anchor"></a><code><span><span class="keyword">val</span> build_menu : <span><a href="../GMenu/class-menu/index.html">GMenu.menu</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">entries</span>:<span><a href="#type-menu_entry">menu_entry</a> list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Build a menu from a tree description</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-popup_menu"><a href="#val-popup_menu" class="anchor"></a><code><span><span class="keyword">val</span> popup_menu : <span><span class="label">entries</span>:<span><a href="#type-menu_entry">menu_entry</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">button</span>:int <span class="arrow">&#45;&gt;</span></span> <span><span class="label">time</span>:int32 <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Popup a menu created from the given list of labels and functions.</p></div></div><h3 id="parametrized-dialog-windows"><a href="#parametrized-dialog-windows" class="anchor"></a>Parametrized dialog windows</h3><div class="odoc-spec"><div class="spec value anchored" id="val-question_box"><a href="#val-question_box" class="anchor"></a><code><span><span class="keyword">val</span> question_box : 
  <span><span class="optlabel">?parent</span>:<a href="../GWindow/class-window_skel/index.html">GWindow.window_skel</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">title</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">buttons</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?default</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?icon</span>:<a href="../GObj/class-widget/index.html">GObj.widget</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  int</span></code></div><div class="spec-doc"><p>This function is used to display a question in a dialog box, with a parametrized list of buttons. The function returns the number of the clicked button (starting at 1), or 0 if the window is savagedly destroyed.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">parent</span> <p>the parent window in the front of which it should be displayed. this also sets the <code>destroy_with_parent</code> property.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">title</span> <p>the title of the dialog</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">buttons</span> <p>the list of button labels.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">default</span> <p>the index of the default answer</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">icon</span> <p>a widget (usually a pixmap) which can be displayed on the left of the window.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">message</span> <p>the text to display</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-message_box"><a href="#val-message_box" class="anchor"></a><code><span><span class="keyword">val</span> message_box : 
  <span><span class="optlabel">?parent</span>:<a href="../GWindow/class-window_skel/index.html">GWindow.window_skel</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">title</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?icon</span>:<a href="../GObj/class-widget/index.html">GObj.widget</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?ok</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>This function is used to display a message in a dialog box with just an Ok button. We use <code>question_box</code> with just an ok button.</p><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">parent</span> <p>the parent window in the front of which it should be displayed. this also sets the <code>destroy_with_parent</code> property.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">title</span> <p>the title of the dialog</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">icon</span> <p>a widget (usually a pixmap) which can be displayed on the left of the window.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">ok</span> <p>the text for the ok button (default is &quot;Ok&quot;)</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">message</span> <p>the text to display</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-input_string"><a href="#val-input_string" class="anchor"></a><code><span><span class="keyword">val</span> input_string : 
  <span><span class="optlabel">?parent</span>:<a href="../GWindow/class-window_skel/index.html">GWindow.window_skel</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">title</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?ok</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?cancel</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?text</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>string option</span></span></code></div><div class="spec-doc"><p>Make the user type in a string.</p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p><code>None</code> if the user clicked on cancel, or <code>Some s</code> if the user clicked on the ok button.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">parent</span> <p>the parent window in the front of which it should be displayed. this also sets the <code>destroy_with_parent</code> property.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">title</span> <p>the title of the dialog</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">ok</span> <p>the text for the confirmation button (default is &quot;Ok&quot;)</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">cancel</span> <p>the text for the cancel button (default is &quot;Cancel&quot;)</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">text</span> <p>the default text displayed in the entry widget</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">message</span> <p>the text to display</p></li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-input_text"><a href="#val-input_text" class="anchor"></a><code><span><span class="keyword">val</span> input_text : 
  <span><span class="optlabel">?parent</span>:<a href="../GWindow/class-window_skel/index.html">GWindow.window_skel</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">title</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?ok</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?cancel</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?text</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>string option</span></span></code></div><div class="spec-doc"><p>Make the user type in a text.</p><ul class="at-tags"><li class="returns"><span class="at-tag">returns</span> <p><code>None</code> if the user clicked on cancel, or <code>Some s</code> if the user clicked on the ok button.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">parent</span> <p>the parent window in the front of which it should be displayed. this also sets the <code>destroy_with_parent</code> property.</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">title</span> <p>the title of the dialog</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">ok</span> <p>the text for the confirmation button (default is &quot;Ok&quot;)</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">cancel</span> <p>the text for the cancel button (default is &quot;Cancel&quot;)</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">text</span> <p>the default text displayed in the entry widget (utf8)</p></li></ul><ul class="at-tags"><li class="parameter"><span class="at-tag">parameter</span> <span class="value">message</span> <p>the text to display</p></li></ul></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-key_combination"><a href="#type-key_combination" class="anchor"></a><code><span><span class="keyword">type</span> key_combination</span><span> = <span><span>[ `A <span>| `C</span> <span>| `S</span> ]</span> list</span> * char</span></code></div><div class="spec-doc"><p>A keyboard shorcut: a combination of Alt, Control and Shift and a letter.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-shortcut_specification"><a href="#type-shortcut_specification" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a shortcut_specification</span></span><span> = </span><span>{</span></code><ol><li id="type-shortcut_specification.name" class="def record field anchored"><a href="#type-shortcut_specification.name" class="anchor"></a><code><span>name : string;</span></code></li><li id="type-shortcut_specification.keys" class="def record field anchored"><a href="#type-shortcut_specification.keys" class="anchor"></a><code><span>keys : <span><a href="#type-key_combination">key_combination</a> list</span>;</span></code></li><li id="type-shortcut_specification.message" class="def record field anchored"><a href="#type-shortcut_specification.message" class="anchor"></a><code><span>message : <span class="type-var">'a</span>;</span></code></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>A shortcut specification: name of a GTK+ signal to emit, keyboard shortcuts and the message to send. The name must be unique.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create_shortcuts"><a href="#val-create_shortcuts" class="anchor"></a><code><span><span class="keyword">val</span> create_shortcuts : 
  <span><span class="label">window</span>:<a href="../GWindow/class-window_skel/index.html">GWindow.window_skel</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">shortcuts</span>:<span><span><span class="type-var">'a</span> <a href="#type-shortcut_specification">shortcut_specification</a></span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">callback</span>:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Setup the given shortcut spec list for the given window and callback. This create the GTK+ signal, associate the keyboard shortcuts to it, make the window listen to these shortcuts and eventually call the given callback with the messages from the shortcut specification.</p></div></div></div></body></html>
